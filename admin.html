<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Courier Report Admin System</title>
    <link rel="stylesheet" href="style.css">
    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage-compat.js"></script>
</head>
<body>
    <div class="container">
        <!-- Login Screen -->
        <div id="loginScreen" class="screen active">
            <div class="login-container">
                <h1>Courier Report System</h1>
                <h2>Admin Login</h2>
                <form id="loginForm">
                    <div class="form-group">
                        <label for="email">Email Address</label>
                        <input type="email" id="email" placeholder="Enter your email" required>
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" placeholder="Enter your password" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Login</button>
                </form>
                <p class="info">Use your Google email to login. First-time visitors will be prompted to complete registration.</p>
            </div>
        </div>

        <!-- Admin Dashboard -->
        <div id="adminDashboard" class="screen">
            <header class="header">
                <div class="header-left">
                    <h1>Admin Dashboard</h1>
                    <div class="user-info">
                        <span id="userEmail"></span>
                        <span class="badge" id="userRole"></span>
                    </div>
                </div>
                <div class="header-right">
                    <button id="logoutBtn" class="btn btn-secondary">Logout</button>
                </div>
            </header>

            <div class="dashboard-container">
                <!-- Master Admin Only - Add Admin Section -->
                <div id="addAdminSection" class="card hidden">
                    <h2>Add New Admin</h2>
                    <form id="addAdminForm">
                        <div class="form-group">
                            <label for="adminEmail">Admin Email</label>
                            <input type="email" id="adminEmail" placeholder="Enter admin email" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Add Admin</button>
                    </form>
                </div>

                <!-- Zone Management -->
                <div class="card">
                    <h2>Zone Management</h2>
                    <form id="zoneForm">
                        <div class="form-group">
                            <label for="zoneName">Zone Name</label>
                            <input type="text" id="zoneName" placeholder="Enter zone name" required>
                        </div>
                        <div class="form-group">
                            <label for="zoneCode">Zone Code</label>
                            <input type="text" id="zoneCode" placeholder="Enter zone code" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Add Zone</button>
                    </form>
                    
                    <div class="zone-list">
                        <h3>Existing Zones</h3>
                        <div id="zonesContainer"></div>
                    </div>
                </div>

                <!-- File Upload Section -->
                <div class="card">
                    <h2>Upload Reports</h2>
                    <div class="upload-section">
                        <div class="upload-option">
                            <h3>Morning File (CSV/Excel)</h3>
                            <form id="morningUploadForm" class="upload-form">
                                <div class="form-group">
                                    <label for="morningZone">Select Zone</label>
                                    <select id="morningZone" required>
                                        <option value="">Select a zone</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="morningFile">Choose File</label>
                                    <input type="file" id="morningFile" accept=".csv,.xlsx,.xls" required>
                                </div>
                                <button type="submit" class="btn btn-primary">Upload Morning File</button>
                            </form>
                        </div>

                        <div class="upload-option">
                            <h3>Final Assign File (CSV/Excel)</h3>
                            <form id="finalUploadForm" class="upload-form">
                                <div class="form-group">
                                    <label for="finalZone">Select Zone</label>
                                    <select id="finalZone" required>
                                        <option value="">Select a zone</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="finalFile">Choose File</label>
                                    <input type="file" id="finalFile" accept=".csv,.xlsx,.xls" required>
                                </div>
                                <button type="submit" class="btn btn-primary">Upload Final File</button>
                            </form>
                        </div>
                    </div>
                    
                    <div class="upload-history">
                        <h3>Recent Uploads</h3>
                        <div id="uploadsContainer"></div>
                    </div>
                </div>

                <!-- Master Admin Only - Admin List -->
                <div id="adminListSection" class="card hidden">
                    <h2>Admin Management</h2>
                    <div id="adminListContainer"></div>
                </div>

                <!-- Visitor Requests -->
                <div id="visitorRequestsSection" class="card">
                    <h2>Visitor Requests</h2>
                    <div id="visitorRequestsContainer"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Visitor Registration Modal -->
    <div id="visitorModal" class="modal hidden">
        <div class="modal-content">
            <h2>Complete Registration</h2>
            <p>Please complete your registration to access the visitor portal.</p>
            <form id="visitorForm">
                <div class="form-group">
                    <label for="visitorName">Full Name</label>
                    <input type="text" id="visitorName" required>
                </div>
                <div class="form-group">
                    <label for="visitorEmail">Email</label>
                    <input type="email" id="visitorEmail" readonly>
                </div>
                <div class="form-group">
                    <label for="hubName">Hub Name</label>
                    <input type="text" id="hubName" required>
                </div>
                <button type="submit" class="btn btn-primary">Submit Registration</button>
            </form>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
