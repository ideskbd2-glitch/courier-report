<!doctype html>
<html lang="bn">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Courier Report - Admin</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <div class="logo">CR</div>
      <div>
        <div class="title">Courier Report</div>
        <div class="subtitle">Admin Panel</div>
      </div>
    </div>

    <div class="auth">
      <div id="userCard" class="user-card hidden">
        <div class="user-meta">
          <div id="userName" class="user-name">—</div>
          <div id="userEmail" class="user-email">—</div>
          <div class="chips">
            <span id="roleChip" class="chip">—</span>
            <span id="statusChip" class="chip chip-muted">—</span>
          </div>
        </div>
      </div>

      <button id="btnLogin" class="btn btn-primary">Google দিয়ে লগইন</button>
      <button id="btnLogout" class="btn btn-ghost hidden">Logout</button>
    </div>
  </header>

  <main class="container">
    <section id="notice" class="notice">
      <strong>নোট:</strong> প্রথমে Google দিয়ে লগইন করুন। Admin না হলে এখানে কন্টেন্ট দেখাবে না।
    </section>

    <section id="adminOnly" class="grid hidden">
      <!-- CSV/Excel Upload -->
      <section class="card">
        <div class="card-head">
          <h2>CSV/Excel Upload</h2>
          <p>সব Admin এর জন্য ২টা অপশন: Morning File & Final Assign File</p>
        </div>

        <div class="form-grid">
          <div class="form-group">
            <label>Morning File (CSV / Excel)</label>
            <input
              id="morningFile"
              type="file"
              accept=".csv,.xlsx,.xls,text/csv,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel"
            />
            <button id="btnUploadMorning" class="btn btn-primary">Upload Morning</button>
            <div id="morningResult" class="hint"></div>
          </div>

          <div class="form-group">
            <label>Final Assign File (CSV / Excel)</label>
            <input
              id="finalFile"
              type="file"
              accept=".csv,.xlsx,.xls,text/csv,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel"
            />
            <button id="btnUploadFinal" class="btn btn-primary">Upload Final</button>
            <div id="finalResult" class="hint"></div>
          </div>
        </div>
      </section>

      <!-- Visitor Requests -->
      <section class="card">
        <div class="card-head">
          <h2>Visitor Requests</h2>
          <p>ভিজিটর প্রথমবার ফর্ম সাবমিট করলে এখানে Pending হবে। Admin Approve/Block করতে পারবে।</p>
        </div>

        <div class="tabs">
          <button class="tab active" data-tab="pending">Pending</button>
          <button class="tab" data-tab="approved">Approved</button>
          <button class="tab" data-tab="blocked">Blocked</button>
        </div>

        <div id="visitorsPending" class="table-wrap"></div>
        <div id="visitorsApproved" class="table-wrap hidden"></div>
        <div id="visitorsBlocked" class="table-wrap hidden"></div>
      </section>

      <!-- Admin Management (Master only) -->
      <section id="masterOnly" class="card hidden">
        <div class="card-head">
          <h2>Admin Management (Master Only)</h2>
          <p>এখানে থেকে নতুন Regular Admin যোগ করা যাবে এবং সব Admin ব্লক/ডিএক্টিভ করা যাবে।</p>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>New Admin Gmail</label>
            <input id="newAdminEmail" type="email" placeholder="example@gmail.com" />
            <div class="hint">এই ইমেইল সাবমিট হলে সে Regular Admin হিসেবে যুক্ত হবে।</div>
          </div>
          <button id="btnAddAdmin" class="btn btn-primary">Add Admin</button>
        </div>

        <div id="adminsTable" class="table-wrap"></div>
      </section>
    </section>

    <section id="notAuthorized" class="card hidden">
      <div class="card-head">
        <h2>Access Denied</h2>
        <p>আপনি Admin না, তাই এই পেজে অ্যাক্সেস নেই।</p>
      </div>
    </section>
  </main>

  <footer class="footer">
    <span>© Courier Report</span>
  </footer>

  <script type="module" src="./admin.js"></script>
</body>
</html>
